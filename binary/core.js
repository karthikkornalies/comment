var UI;(function(e){var a="one-line-value-div";var n="size-value-div";var t="index-value-div";var r="separator-value-div";var l="commentformatbox";var o="cp-value";var i="cp-size";var u="cp-index";var s="cp-separator";var c="cs-top-left";var g="cs-top-right";var d="cs-bottom-left";var v="cs-bottom-right";var f="cs-one-line";var m="ci-string";var y="ci-size";var p="class";var b="flag";var L="section";var C="subsection";var h="insection";var I="line";var S="subline";var x="note";var V="separator";var B="view";var T="comment-box";var k="kary-horse-back";var E="error-box";var G="inline";var O="none";var z="kary-horse-back-hide";var M="kary-horse-back-show";var R="";function U(){N();_();Y()}e.InitOnLoad=U;var w;(function(e){var a="org.karyfoundation.comment-iv.";function n(e,n){localStorage.setItem(a+e,n)}e.Store=n;function t(e){return localStorage.getItem(a+e)}e.Load=t})(w||(w={}));function A(){}e.CopyResult=A;function N(){K();H()}function F(e){re(e,w.Load(e))}function K(){F(l);F(s)}function H(){D();$(o);$(i);$(y);$(m);$(y)}function P(){X(d);X(v);X(c);X(g);X(f)}e.UpdateAndStoreCommentCharacters=P;function X(e){w.Store(e,document.getElementById(e).value)}function D(){$(d);$(v);$(c);$(g);$(f);_()}function $(e){var a=w.Load(e);if(a!=undefined&&a!=null){var n=document.getElementById(e);n.value=a}}function j(e){if(e.keyCode==13){q()}}e.OnTextInputKeyPress=j;function q(){try{de();ie();ae();_()}catch(e){return 1}var a=W();if(doneSuccessfully){var n=document.createElement("pre");n.className=T;n.innerHTML=a;R=n.innerText;Q(n);J()}ce()}e.CreateNewComment=q;function J(){if(R!==""){ElectronCopy(R)}}e.CopyComment=J;function Q(e){var a=document.getElementById(B);if(isLastAppendedChildErrorBox){a.removeChild(a.firstChild);isLastAppendedChildErrorBox=false}if(a.children.length==0){a.appendChild(e)}else{a.firstElementChild.classList.add("comment-box-deactive");a.insertBefore(e,a.firstChild)}if(a.children.length>10){a.removeChild(a.lastChild)}}function W(){var e;switch(ne()){case p:e=Core.GenerateClassComment();break;case b:e=Core.GenerateFlagCommet();break;case L:e=Core.GenerateSectionComment();break;case C:e=Core.GenerateSubSectionComment();break;case h:e=Core.GenerateInSectionComment();break;case I:e=Core.GenerateLineComment();break;case S:e=Core.GenerateSubLineComment();break;case V:e=Core.GenerateSeparatorComment();break}e=Core.ApplyIndentation(e);return e}function Y(){Z(l);var e=document.getElementById(n);var o=document.getElementById(t);var i=document.getElementById(a);var u=document.getElementById(r);switch(ne()){case p:e.style.display=G;o.style.display=O;i.style.display=G;u.style.display=O;break;case b:e.style.display=O;o.style.display=G;i.style.display=G;u.style.display=O;break;case L:e.style.display=G;o.style.display=O;i.style.display=G;u.style.display=O;break;case C:e.style.display=G;o.style.display=O;i.style.display=G;u.style.display=O;break;case I:e.style.display=G;o.style.display=O;i.style.display=O;u.style.display=O;break;case S:e.style.display=G;o.style.display=O;i.style.display=O;u.style.display=O;break;case V:e.style.display=O;o.style.display=O;i.style.display=O;u.style.display=G;break;case h:e.style.display=O;o.style.display=O;i.style.display=G;u.style.display=O;break;case x:e.style.display=O;o.style.display=O;i.style.display=O;u.style.display=O;break}}e.DisplayInputBoxes=Y;function Z(e){w.Store(e,te(e))}function _(){languageMultiLineBottomLeft=ee(d);languageMultiLineBottomRight=ee(v);languageMultiLineTopLeft=ee(c);languageMultiLineTopRight=ee(g);languageOneLine=ee(f)}e.UpdateCommentChars=_;function ee(e){var a=oe(e);w.Store(e,a);return a}function ae(){globalSeparatorValue=te(s);globalIndentStringValue=te(m);globalTextValue=oe(o);try{globalSizeValue=le(i);globalIndexValue=le(u);globalIndentSizeValue=le(y)}catch(e){throw 0}}e.UpdateGlobalInputVariables=ae;function ne(){return te(l)}function te(e){var a=document.getElementById(e);return a.options[a.selectedIndex].value}function re(e,a){var n=document.getElementById(e);for(var t=0;t<n.children.length;t++){var r=n.options[t].value;if(r==a){n.selectedIndex=t;return}}}function le(e){var a=document.getElementById(e).value;if(a.match(/^\d+$/)){return parseInt(a)}else{ge("Could not read the field: "+ve(e));throw 0}}function oe(e){var a=document.getElementById(e).value;a=a.replace("<","&lt;").replace(">","&gt;");return a}function ie(){var e=document.getElementById(B).classList;e.remove(M);e.add(z)}function ue(){var e=document.getElementById(B).classList;e.remove(z);e.add(M)}function se(){document.getElementById(B).innerHTML="";ue()}e.CleanCommentView=se;function ce(){}function ge(e){doneSuccessfully=false;var a=document.createElement("pre");a.className=T;a.classList.add(E);a.innerHTML="OPERATION FAILURE - "+e;Q(a);isLastAppendedChildErrorBox=true}e.GenerateReport=ge;function de(){doneSuccessfully=true}function ve(e){switch(e){case y:return"`Indentation's Scoping Level`  [ &sect; Indentation &rightarrow; Scope ]";case i:return"`Comment Length`  [ &sect; Preferences &rightarrow; Length ]";case y:return"`Flag Comment Index`  [ &sect; Preferences &rightarrow; Index ]"}}})(UI||(UI={}));var Kary;(function(e){var a;(function(e){var a;(function(e){function a(e){if(e===0){return"NULL"}if(e>4999){UI.GenerateReport("Can not generate roman number greater than 4999");return"HUGE"}var a="";var n=[1e3,900,500,400,100,90,50,40,10,9,5,4,1];var t=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"];for(var r=0;r<13;r++){while(e>=n[r]){e-=n[r];a+=t[r]}}return a}e.Roman=a})(a=e.Numerics||(e.Numerics={}))})(a=e.Text||(e.Text={}))})(Kary||(Kary={}));var languageMultiLineTopLeft;var languageMultiLineTopRight;var languageMultiLineBottomLeft;var languageMultiLineBottomRight;var languageOneLine;var globalTextValue;var globalSeparatorValue;var globalSizeValue;var globalIndexValue;var globalIndentSizeValue;var globalIndentStringValue;var isLastAppendedChildErrorBox=false;var doneSuccessfully;var Core;(function(e){var a="&boxv;";var n="&boxh;";var t="&boxdr;";var r="&boxdl;";var l="&boxur;";var o="&boxul;";function i(){if(!L(5,true,true)){return null}var e;e=languageMultiLineTopLeft+" "+m(globalSizeValue)+" "+languageMultiLineTopRight+"\n";var a=y(globalTextValue);var n="";var t="";for(var r=1;r<(globalSizeValue-a.length)/2;r++){t+="&colon;"}if((globalSizeValue-a.length)%2==0){console.log("here");n="&colon;"}e+=languageMultiLineBottomLeft+" "+n+t+a+" "+t+" "+languageMultiLineTopRight+"\n";e+=languageMultiLineBottomLeft+" "+m(globalSizeValue)+" "+languageMultiLineBottomRight;console.log(e);return e}e.GenerateClassComment=i;function u(){var e=languageOneLine+"\n";var a=y(globalTextValue);e+=languageOneLine+" "+p(n,a.length+40)+" "+Kary.Text.Numerics.Roman(globalIndexValue)+" "+p(n,10)+"\n";e+=languageOneLine+"  ::::::"+a+" : :  :   :    :     :        :          :\n";e+=languageOneLine+" "+p(n,50+a.length)+"\n";e+=languageOneLine;return e}e.GenerateFlagCommet=u;function s(){return languageOneLine+" "+p(n,globalSizeValue)}e.GenerateLineComment=s;function c(){if(!L(4,false,false)){return null}var e=languageOneLine;if(globalSizeValue%2==0){e+=" "}e+=p(" -",globalSizeValue/2);return e}e.GenerateSubLineComment=c;function g(){if(!L(8,false,true)){return null}var e=languageOneLine+"\n";e+=languageOneLine+" "+p(n,3)+" "+globalTextValue.toUpperCase()+" "+p(n,globalSizeValue-globalTextValue.length-5)+"\n";e+=languageOneLine;return e}e.GenerateSectionComment=g;function d(){if(!L(6,false,true)){return null}var e=languageOneLine+"\n";e+=languageOneLine+" "+"- -"+" "+globalTextValue.toLowerCase();var a=(globalSizeValue-globalTextValue.length-5)/2;if(a%2==0){e+=" "+p(" -",a)+"\n"}else{e+=p(" -",a)+"\n"}e+=languageOneLine;return e}e.GenerateSubSectionComment=d;function v(){var e=languageOneLine+"\n";e+=languageOneLine+" "+globalTextValue.toUpperCase()+"\n";e+=languageOneLine;return e}e.GenerateInSectionComment=v;function f(){return"//"+p(" "+globalSeparatorValue,5)}e.GenerateSeparatorComment=f;function m(e){return p(n,e)}function y(e){var a="";for(var n=0;n<e.length;n++){a+=" "+e[n]}return a.toUpperCase()}function p(e,a){var n="";for(var t=0;t<a;t++){n+=e}return n}function b(e){var a;try{a=e.split("\n")}catch(n){a=[e]}var t="";var r=a.length;for(var l=0;l<r;l++){t+=p(globalIndentStringValue,globalIndentSizeValue)+a[l];if(l<r-1){t+="\n"}}return t}e.ApplyIndentation=b;function L(e,a,n){if(e>globalSizeValue){UI.GenerateReport("Given size for the comment is too short.");return false}else{var t=0;if(n){t=globalTextValue.length;if(a){t*=2}}if(globalSizeValue-t<e){UI.GenerateReport("Faild to generate the comment");return false}}return true}})(Core||(Core={}));